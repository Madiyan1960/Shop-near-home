<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Отправка заказа в Airtable</title>
</head>
<body>
  <h2>Пример заказа</h2>
  <button onclick="sendOrder()">Отправить заказ</button>

  <script>
    async function sendOrder() {
      const airtableApiKey = "patGuAAYxAKvFv2Ky.5bb726817659e039a92db48bba3d7de25c15e6c762b2e300dcfd6be3370e00e6";
      const airtableBaseId = "appLj0ax0IDVaRTd4";
      const airtableTableName = "Заказы";

      const data = {
        fields: {
          Name: "Проверка из сайта",
          Phone: "87001234567",
          Address: "ул. Примерная, 1",
          Products: "Пример - 100 тг × 1",
          Total: 100,
          Status: "Новый"
        }
      };

      const response = await fetch(`https://api.airtable.com/v0/${airtableBaseId}/${encodeURIComponent(airtableTableName)}`, {
        method: "POST",
        headers: {
          "Authorization": `Bearer ${airtableApiKey}`,
          "Content-Type": "application/json"
        },
        body: JSON.stringify(data)
      });

      const result = await response.json();
      console.log(result);
      alert("Результат: " + JSON.stringify(result, null, 2));
    }
  </script>
</body>
</html>
